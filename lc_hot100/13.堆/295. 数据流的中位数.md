```cpp
class MedianFinder {
    priority_queue<int> left;
    priority_queue<int,vector<int> ,greater<int> > right;
public:
    MedianFinder() {

    }

    void addNum(int num) {
        int n = left.size(),m = right.size();
        if((n+m) %2)
        {
            left.push(num);
            auto t = left.top();
            left.pop();
            right.push(t);
        }
        else
        {
            right.push(num);
            auto t = right.top();
            right.pop();
            left.push(t);
        }
    }

    double findMedian() {
        int n = left.size(),m = right.size();
        if(( n + m ) % 2)
        {
            return left.top() * 1.0;
        }
        else
        {
            return (left.top() + right.top()) * 0.5;
        }
    }
};

/**
 * Your MedianFinder object will be instantiated and called as such:
 * MedianFinder* obj = new MedianFinder();
 * obj->addNum(num);
 * double param_2 = obj->findMedian();
 */
```

python中堆的语法有点别扭

```python
import heapq
class MedianFinder:

    def __init__(self):
        self.maxheap = [] # 大根堆
        self.minheap = [] # 小根堆
        self.size = 0
    def addNum(self, num: int) -> None:
        if self.size % 2:
            heapq.heappush(self.maxheap, -num)
            num = - heapq.heappop(self.maxheap)
            heapq.heappush(self.minheap,num)
        else :
            heapq.heappush(self.minheap, num)
            num = heapq.heappop(self.minheap)
            heapq.heappush(self.maxheap, -num)

        self.size += 1

    def findMedian(self) -> float:
        if self.size % 2 :
            return -self.maxheap[0]
        else :
            return (self.minheap[0] - self.maxheap[0]) / 2


# Your MedianFinder object will be instantiated and called as such:
# obj = MedianFinder()
# obj.addNum(num)
# param_2 = obj.findMedian()
```
