```cpp
class Solution {
public:
    vector<int> partitionLabels(string s) {
        int n = s.size(),prePos = -1;
        vector<int> res;
        unordered_map<char,int> mp;
        for(int i = 0;i<n;i++)
        {
            mp[s[i]] = i;
        }

        int max_right = mp[s[0]];
        for(int i = 0;i<n;i++)
        {
            if(i<max_right)
            {
                max_right = max(max_right,mp[s[i]]);
            }
            if(i == max_right)
            {
                res.push_back(i - prePos);
                prePos = i;
                if(max_right != n-1) max_right = mp[s[i+1]];
            }
        }

        return res;
    }
};
```

```python
class Solution:
    def partitionLabels(self, s: str) -> List[int]:
        mp = defaultdict(int)
        n = len(s)
        if n == 1 :
            return [1]
        for i in range(n):
            mp[s[i]] = i

        res = []
        prePos = 0
        right = 0
        for i in range(n):
            right = max(mp[s[i]],right)
            if i == right:
                res.append(right - prePos + 1)
                prePos = right + 1
        return res



```
