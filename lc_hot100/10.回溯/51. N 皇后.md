```cpp
class Solution {
public:
    vector<vector<string>> res;
    vector<string> temp;
    int col[20],dg[20],udg[20];
    void dfs(int n,int u)
    {
        if(u == n)
        {
            res.push_back(temp);
            return ;

        }

        for(int i = 0;i<n;i++)
        {
            if(!col[i] && !dg[u+i] && !udg[n-u+i])
            {
                col[i] = dg[i+u] = udg[n-u+i] = 1;
                temp[u][i] = 'Q';
                dfs(n,u+1);
                col[i] = dg[i+u] = udg[n-u+i] = 0;
                temp[u][i] = '.';
            }
        }
    }

    vector<vector<string>> solveNQueens(int n) {
        for(int i = 0;i<n;i++)
        {
            string s = "";
            for(int j = 0;j<n;j++)
            {
                s = s + ".";
            }
            temp.push_back(s);
        }

        dfs(n,0);

        return res;
    }
};
```
