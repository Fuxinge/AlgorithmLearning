```cpp
class Solution {
public:
    vector<int> findAnagrams(string s, string p) {
        int n = s.size(), m = p.size();
        vector<int> res;
        unordered_map<char,int> mp,tar;
        for(auto c:p)
        {
            tar[c]++;
        }

        for(int i = 0;i<n;i++)
        {
            mp[s[i]]++;

            if(i-m+1<0) continue;

            if(tar==mp) res.push_back(i-m+1);

            mp[s[i-m+1]]--;
            if(mp[s[i-m+1]]==0) mp.erase(s[i-m+1]);
        }

        return res;

    }
};
```
