# 拓扑排序

## acwing写法

注意要用numcourese和cnt比较而不是边数n

```cpp
class Solution {
public:
    static const int N = 10001;
    int e[N*2],ne[N*2],d[N],idx,h[N];
    void add(int a,int b)
    {
        e[idx] = b;
        ne[idx] = h[a];
        h[a] = idx++;
    }
    bool canFinish(int numCourses, vector<vector<int>>& prerequisites) {

        int n = prerequisites.size();
        memset(h,-1,sizeof(h));
        for(int i = 0;i<prerequisites.size();i++)
        {
            add(prerequisites[i][1],prerequisites[i][0]);
            d[prerequisites[i][0]] ++;
        }
        queue<int> q;

        for(int i = 0;i<numCourses;i++)
        {
            if(d[i]==0) q.push(i);
        }

        int cnt = q.size();


        while(q.size())
        {
            auto t = q.front();
            q.pop();
            for(int i = h[t];i!=-1;i = ne[i])
            {
                auto j = e[i];
                d[j]--;
                if(d[j]==0)
                {
                    q.push(j);
                    cnt++;
                }
            }

        }

        return numCourses==cnt;
    }
};
```
